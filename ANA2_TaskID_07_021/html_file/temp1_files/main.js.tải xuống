!function(){function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return o(t[a][1][e]||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}return e}()({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){$.when(function(e,t){var n=$.Deferred();return $.ajax({url:"/api/increment-pv",type:"post",data:{url:url},dataType:"jsonp",timeout:5e3,success:n.resolve,error:n.reject}),n.promise()}()).always(function(e){})};$(window).bind("refresh",r),r(),n.default=r},{}],2:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";return new Promise(function(n,r){var o=new XMLHttpRequest;o.open(t,e),o.setRequestHeader("Content-Type","application/json"),o.onload=function(){200==o.status?n(o.responseText):r(new Error(o.statusText))},o.onerror=function(){r(new Error(o.statusText))},o.send()})}function i(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function a(e,t){t.addEventListener("transitionend",function(){var n=t.getBoundingClientRect().top+window.scrollY-50,r=-window.scrollY/(e/15),o=setInterval(function(){window.scrollY>n?window.scrollBy(n,r):clearInterval(o)},15)})}var s=e("../../common/app/pv_count.js"),c=(function(e){e&&e.__esModule}(s),c||{});c.setJsUtilitySelector=function(e){e("body").removeClass("is-nojs"),e("body").addClass("is-js")},c.setfixedHeader=function(e){var t=e(window),n=e("body"),r=e(".l-header"),o=e(".h-body"),i=o.outerHeight(),a=o.offset().top,s=r.next("div");t.on("load scroll",function(){e(this).scrollTop()>a?(o.addClass("is-fixed"),s.css("margin-top",i),n.css("padding-top",i)):(o.removeClass("is-fixed"),s.css("margin-top","0"),n.css("padding-top","0"))})},c.setHeaderMenu=function(e){function t(t,n){var r=".-"+n;e(".-open").removeClass("-open"),!0!==t||e(r).hasClass("-open")||e(r).addClass("-open")}e(".js-navButton").on("click",function(n){var r="",o=e(this),i=["category","tags","feature","search"];for(var a in i){var s="-"+i[a];if(o.hasClass(s)){r=i[a];break}}e("."+s).hasClass("-open")?t(!1,""):t(!0,r)})},c.setContentPrimaryWidth=function(e){e(".l-generalContent-secondary").length>0&&e(".l-generalContent-primary.-main").css("max-width","860px")},c.setRecommends=function(e){},c.setSurvey=function(){if(!document.querySelector(".p-post-survey"))return!1;var e=document.querySelector("[data-mainsurveykey]"),t=e.getAttribute("data-mainsurveykey"),n=document.querySelector(".-want.p-post-surveyActionItem"),r=document.querySelector(".-stay.p-post-surveyActionItem"),a=document.querySelector(".-want .p-post-surveyActionItemCount"),s=document.querySelector(".-stay .p-post-surveyActionItemCount"),c=document.querySelector(".-want .p-post-surveyActionItemButton"),l=document.querySelector(".-stay .p-post-surveyActionItemButton"),u=i('<span class="p-post-reviewList-CardImageBadge -large">     <span class="p-post-reviewList-CardImageBadgeCount">     </span></span>'),d=document.querySelector(".p-post-thumbnail");d.insertBefore(u,d.firstChild),o("/api/SurveyCount?site_name=gizmodo&survey_key="+t+"&type_name=want").then(function(e){var t=JSON.parse(e);0==t.surveyCount?u.style.display="none":(u.style.display="block",u.firstElementChild.innerHTML=t.surveyCount),a.innerText=t.surveyCount},function(e){console.error(e)}),o("/api/SurveyCount?site_name=gizmodo&survey_key="+t+"&type_name=stay").then(function(e){var t=JSON.parse(e);s.innerText=t.surveyCount},function(e){console.error(e)});var p=function(e){o(e).then(function(e){var n=JSON.parse(e);"want"==n.type_name?(a.innerText=n.surveyCount,localStorage.setItem("answere_type"+t,"want")):"stay"==n.type_name&&(s.innerText=n.surveyCount,localStorage.setItem("answere_type"+t,"stay")),y=!0,localStorage.setItem("answered"+t,!0)},function(e){console.error(e),v()})},f=function(e){c.setAttribute("disabled",!0),l.setAttribute("disabled",!0),"want"==e?(n.classList.add("-active"),a.classList.add("-large")):(r.classList.add("-active"),s.classList.add("-large"))},v=function(){c.removeAttribute("disabled",!0),l.removeAttribute("disabled",!0),c.classList.remove("-large"),l.classList.remove("-large")},m="/api/IncrementSurvey?site_name=gizmodo&survey_key="+t+"&type_name=",y=JSON.parse(localStorage.getItem("answered"+t));!0===y&&f(localStorage.getItem("answere_type"+t)),c.addEventListener("click",function(){if(!0!==y){p(m+"want"),f("want")}}),l.addEventListener("click",function(){if(!0!==y){p(m+"stay"),f("stay")}})},c.setSurvey_Reviews=function(){var e=document.querySelectorAll("[data-surveykey]");if(e.length<=0)return!1;var t=[],n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;t.push(c.getAttribute("data-surveykey"))}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}o("/api/SurveyCountCollection?site_name=gizmodo&survey_keys="+t+"&type_name=want").then(function(e){var t=JSON.parse(e),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;s.survey_key=s.survey_key.replace("dev_","");var c=document.querySelectorAll('*[data-surveykey="'+s.survey_key+'"]'),l='<span class="p-post-reviewList-CardImageBadge">   <span class="p-post-reviewList-CardImageBadgeCount">'+s.SurveyCount+"   </span></span>";if(0!=s.SurveyCount)if(c.length>0)for(var u=0;u<c.length;u++){var d=document.createElement("div");d.innerHTML=l,c[u].classList.contains("p-cardHead-cardImage")&&d.firstElementChild.classList.add("-large"),c[u].appendChild(d)}else{var p=document.createElement("div");p.innerHTML=l,c.appendChild(p)}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}},function(e){console.error(e)})},c.setTargetToFuzeLink=function(e){e("a").each(function(t,n){e(n).attr("href").match(/^https:\/\/www\.fuze/)&&e(n).attr("target","_blank")})},c.setSlider=function(e){var t=e(window),n=e(".p-post").innerWidth();e(".p-post-contentSlider").each(function(){var r=e(this),o=r.find(".p-post-contentSliderList"),i=r.find(".p-post-contentSliderItem"),a=r.find(".p-post-contentSliderToggle"),s=a.find('input[type="radio"]'),c=r.find(".p-post-contentSliderNext button"),l=r.find(".p-post-contentSliderPrevious button"),u=r.find(".p-post-contentSliderProgress"),d=i.length,p=!1,f=".p-post-contentSliderItemBlurEffect";t.on("load",function(){function t(e){u.text(e+"/"+d)}function v(){r.addClass("-on"),o.slick({arrows:!1,draggable:!1,fade:!0,infinite:!0}),c.removeAttr("disabled"),l.removeAttr("disabled"),t(1),i.each(function(){var t=e(this),r=t.find(".p-post-contentFigure"),o=t.find(".p-post-contentFigureImage"),i=t.find(".p-post-contentFigureImage img");if(i.attr("src")&&!r.hasClass("-left")&&!r.hasClass("-right")){var a=i.innerWidth();if(n>a){var s=i.attr("src"),c=i.outerHeight();t.addClass("-blur"),o.wrapAll('<div class="p-post-contentSliderItemBlur"></div>'),o.before('<div class="p-post-contentSliderItemBlurEffect"><div class="p-post-contentSliderItemBlurEffectContent"></div></div>'),t.find(f).css({height:c}),t.find(".p-post-contentSliderItemBlurEffectContent").css({"background-image":"url("+s+")"})}}})}function m(){i.each(function(){var t=e(this),n=t.find(".p-post-contentFigureImage");t.hasClass("-blur")&&(t.removeClass("-blur"),t.find(f).remove(),n.unwrap())}),r.removeClass("-on"),p&&o.slick("unslick"),c.attr("disabled","disabled"),l.attr("disabled","disabled")}c.on("click",function(){o.slick("slickNext")}),l.on("click",function(){o.slick("slickPrev")}),o.on("destroy",function(e,t){p=!1}).on("init",function(e,t){p=!0}).on("beforeChange",function(e,n,r,o){t(o+1)}),s.on("change",function(){"on"===e(this).val()?v():m()}).trigger("change"),a.on("click",function(){e("html, body").animate({scrollTop:r.offset().top-100},0)})})})},c.accordionToggle=function(){var e=!1,t=document.querySelector(".p-accordionToggle-button button"),n=document.querySelector(".p-cardTileCol3--accordion");t&&n&&t.addEventListener("click",function(){e?(t.innerHTML="OPEN",e=!1,a(500,n)):(t.innerHTML="CLOSE",e=!0),n.classList.toggle("is-open")})};var l=function e(t,n,o,i){var a=this;if(r(this,e),this.getTabItems=function(){return Array.prototype.slice.call(document.querySelectorAll(a.tabItemTarget),0)},this.tabTarget=n,this.listTarget=i,this.tabItemTarget=o,this.rankingTabItems=this.getTabItems(),this.rankingTab=document.querySelector(this.tabTarget),this.rankingList=document.querySelector(this.listTarget),null==this.rankingTab||null==this.rankingList)return!1;this.initialIndex=Math.floor(2*Math.random()),this.rankingTab.style.left=100*this.initialIndex+"px",this.rankingList.style.marginLeft=-300*this.initialIndex+"px",this.rankingList.style.height=this.rankingList.children[this.initialIndex].clientHeight+"px",this.rankingTabItems.forEach(function(e,t){e.addEventListener("click",function(){a.rankingTab.style.left=100*t+"px",a.rankingList.style.marginLeft=-300*t+"px",a.rankingList.style.height=a.rankingList.children[t].clientHeight+"px"})})};c.topVideos=function(){function e(e){for(var r=[],o=1;o<e.items.length;o++)r.push(o);for(var i=r.length;i;){var a=Math.floor(Math.random()*i),s=r[--i];r[i]=r[a],r[a]=s}var c=[];c.push(e.items[0]);for(var l=0;l<3;l++)c.push(e.items[r[l]]);var u=document.querySelector(".p-videoListWrapper");t(c[0].snippet.resourceId.videoId);var d="";c.forEach(function(e,t){var n="";0===t&&(n+=" is-playng"),d+='<div data-num="'+t+'" class="p-videoThumb'+n+'"><img src="'+e.snippet.thumbnails.medium.url+'" alt="GIZMODO VIDEO"></div>'}),u.innerHTML=d;var p=document.querySelectorAll(".p-videoThumb");p.forEach(function(e){e.addEventListener("click",function(e){p.forEach(function(e){e.classList.remove("is-playng")}),n(c[e.currentTarget.dataset.num].snippet.resourceId.videoId),e.currentTarget.classList.add("is-playng")})})}function t(e){function t(e){a?a=!1:e.target.playVideo()}function n(e){e.data!=YT.PlayerState.PLAYING||s||(s=!0)}var r=document.createElement("script");r.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o),window.onYouTubeIframeAPIReady=function(){console.log("onYouTubeIframeAPIReady"),i=new YT.Player("gzVideoPlayer",{height:"460",width:"820",videoId:e,events:{onReady:t,onStateChange:n},playerVars:{rel:0,list:"PL6wam8-fvMk7gKDcCwOFPSEOWoUve8MfV"}})};var s=!1}function n(e){i.loadVideoById(e)}function r(){t(document.querySelector(".p-videoContainer").dataset.defaultVideoId)}if("/"===location.pathname&&0!=document.querySelectorAll(".p-videoContainer").length){var i=void 0,a=!0,s=parseInt(localStorage.getItem("gizmodo-youtube-videos-expire"),10),c=Date.now()-s;!s||c>36e5?o("/api/getGzVideos","GET").then(function(t){var n=JSON.parse(t);n.error?(r(),console.error(n.error)):(localStorage.setItem("gizmodo-youtube-videos",JSON.stringify(n)),localStorage.setItem("gizmodo-youtube-videos-expire",Date.now()),e(n))},function(e){r(),console.error(e)}):e(JSON.parse(localStorage.getItem("gizmodo-youtube-videos")))}},c.setSwiper=function(e){"/"===location.pathname&&0!=document.querySelectorAll(".p-slider1").length&&setTimeout(function(){new Swiper(".p-slider1",{direction:"horizontal",loop:!0,grabCursor:!0,roundLength:!0,slidesPerView:"auto",speed:500,calculateHeight:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev"})},1e3)},jQuery(function(e){c.setSwiper(e),c.setJsUtilitySelector(e),c.setfixedHeader(e),c.setHeaderMenu(e),c.setRecommends(e),c.setSlider(e),c.setTargetToFuzeLink(e),c.setSurvey(),c.setSurvey_Reviews(),c.accordionToggle(),c.topVideos();var t={device:"pc"};t.ranking=new l(t,".s-Ranking_TabBar",".s-Ranking_Tab > li.s-Ranking_TabItem",".s-Ranking_ListWrapper")})},{"../../common/app/pv_count.js":1}]},{},[2]);